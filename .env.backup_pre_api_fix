# Quantum Trader v2.0 - Configuration
# Updated: 2025-12-08 (Binance Testnet Exclusive Mode + Signal Quality Improvements)

# =============================================================================
# SIGNAL QUALITY SETTINGS (NEW - 2025-12-08)
# =============================================================================
# Raised confidence threshold to only trade high-quality signals
QT_MIN_CONFIDENCE=0.70
# Reduced signal queue to keep only best signals
QT_SIGNAL_QUEUE_MAX=20
# Require strong consensus (3/4 models agree)
QT_REQUIRE_STRONG_CONSENSUS=true

# =============================================================================
# BINANCE TESTNET API CREDENTIALS (Exclusive mode - Bybit disabled)
# =============================================================================
BINANCE_API_KEY=e9ZqWhGhAEhDPfNBfQMiJv8zULKJZBIwaaJdfbbUQ8ZNj1WUMumrjenHoRzpzUPD
BINANCE_API_SECRET=ZowBZEfL1R1ValcYLkbxjMfZ1tOxfEDRW4eloWRGGjk5etn0vSFFSU3gCTdCFoja
BINANCE_TESTNET=true
BINANCE_USE_TESTNET=true
QT_PAPER_TRADING=false
EXECUTION_MODE=TESTNET
EXCHANGE_MODE=binance_testnet
BYBIT_ENABLED=false

API_KEY_ADMIN=Q-ynB5lYc782NhfGIDUItK9m-7Zn3pB5hQRvQkTOasE
API_KEY_USER=sYz0dQnloWFgn5ENuiumMDbAuSOZEHPp0CUADM2EC8s
CACHE_TTL_OVERVIEW=30
CACHE_TTL_RISK=10
CACHE_TTL_TRADING=5
FORCE_HTTPS=false
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_ALGORITHM=HS256
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
JWT_SECRET_KEY=r91365-MLekGn6VsXH3qKGtFsKhawXB_tWFe6GbH6sQ
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_SECONDS=60
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_URL=redis://127.0.0.1:6379
SSL_CERTFILE=certs/cert.pem
SSL_KEYFILE=certs/key.pem

# Exit Brain v3 Integration (Added 2025-12-10)

# Exit Brain V3 Configuration (Updated: 2025-12-10 22:57:36)

# Exit Brain V3 Configuration (Updated: 2025-12-10 22:58:47)

# Exit Brain V3 Configuration (Updated: 2025-12-14 HOTFIX)
# EXIT_MODE Options: LEGACY, EXIT_BRAIN_V3
EXIT_MODE=EXIT_BRAIN_V3
EXIT_EXECUTOR_MODE=LIVE
EXIT_BRAIN_V3_LIVE_ROLLOUT=ENABLED
EXIT_BRAIN_V3_ENABLED=true

# Exit Brain Profile (Choose risk management profile)
# Options: DEFAULT, CHALLENGE_100
EXIT_BRAIN_PROFILE=CHALLENGE_100

# $100 Challenge Mode Config
CHALLENGE_RISK_PCT_PER_TRADE=0.015  # 1.5% of equity per trade = 1R
CHALLENGE_MAX_RISK_R=1.5            # Max 1.5R loss per position
CHALLENGE_TP1_R=1.0                 # TP1 at +1R profit
CHALLENGE_TP1_QTY_PCT=0.30          # Take 30% at TP1
CHALLENGE_TRAIL_ATR_MULT=2.0        # Trailing distance = 2*ATR
CHALLENGE_TIME_STOP_SEC=7200        # 2 hours time stop
CHALLENGE_LIQ_BUFFER_PCT=0.01       # 1% buffer before liquidation
CHALLENGE_HARD_SL_ENABLED=true      # Enable hard SL in CHALLENGE mode

# Execution Configuration (Binance Futures Testnet)
QT_EXECUTION_EXCHANGE=binance-futures
QT_EXECUTION_QUOTE_ASSET=USDT
QT_EXECUTION_BINANCE_TESTNET=true

# =============================================================================
# CONTINUOUS LEARNING MANAGER (CLM) - AI Model Auto-Training
# ðŸš€ AGGRESSIVE LEARNING MODE: Retrain every 30 minutes for rapid improvement
# =============================================================================
QT_CLM_ENABLED=true
QT_CLM_RETRAIN_HOURS=0.5              # âš¡ 30 minutes (0.5 hours)
QT_CLM_DRIFT_HOURS=0.25               # âš¡ Check drift every 15 min
QT_CLM_PERF_HOURS=0.17                # âš¡ Check performance every 10 min
QT_CLM_DRIFT_THRESHOLD=0.05
QT_CLM_SHADOW_MIN=100
QT_CLM_AUTO_RETRAIN=true
QT_CLM_AUTO_PROMOTE=true

# =============================================================================
# VPS RUNTIME CONFIGURATION (Updated 2025-12-17 - CONTROLLED TESTNET EXECUTION)
# =============================================================================
# System activation and live trading mode
# TESTNET MODE: Real orders on Binance Testnet (no real money)
GO_LIVE=true
SIMULATION_MODE=false
EXECUTE_ORDERS=true

# Maximum position size in USD for testnet safety
MAX_POSITION_SIZE_USD=2

# Risk mode for controlled testnet execution
RISK_MODE=sandbox

# Python module path for Docker containers
PYTHONPATH=/app/backend

# RL debugging (disabled for production-like testing)
RL_DEBUG=false

# Database configuration (PostgreSQL for production)
DB_URI=postgresql://quantum:quantum@db:5432/quantum

# Redis configuration (already defined above as REDIS_URL)
# REDIS_URL=redis://redis:6379/0
