# ============================================================================
# P3 Apply Layer - Environment Configuration
# ============================================================================

# Redis connection
REDIS_HOST=localhost
REDIS_PORT=6379

# Apply mode
APPLY_MODE=dry_run

# Symbols to process (comma-separated)
SYMBOLS=BTCUSDT,ETHUSDT,SOLUSDT

# Allowlist (only these symbols will execute)
APPLY_ALLOWLIST=BTCUSDT

# Poll interval (seconds)
APPLY_POLL_SEC=5

# Deduplication TTL (seconds)
APPLY_DEDUPE_TTL_SEC=21600

# Kill score thresholds
K_BLOCK_CRITICAL=0.80
K_BLOCK_WARNING=0.60

# Kill switch (emergency stop)
APPLY_KILL_SWITCH=false

# Prometheus metrics port (set to 0 to disable)
APPLY_METRICS_PORT=8043

# Logging
APPLY_LOG_LEVEL=INFO

# ============================================================================
# P2.8A Heat Observer - Shadow Observability
# ============================================================================

# Enable heat observation (reads HeatBridge cache, emits observed stream)
P28_HEAT_OBS_ENABLED=true

# Output stream for observed events
P28_HEAT_OBS_STREAM=quantum:stream:apply.heat.observed

# HeatBridge lookup key prefix
P28_HEAT_LOOKUP_PREFIX=quantum:harvest:heat:by_plan:

# Deduplication TTL (seconds) - prevents duplicate observations
P28_DEDUPE_TTL_SEC=600

# Max debug JSON characters (prevents excessive stream sizes)
P28_MAX_DEBUG_CHARS=400
