# === Backend Config ===
PYTHONUNBUFFERED=1

# === Database ===
DB_URL=sqlite:///./trades.db

## === Binance API Keys ===
# For Binance testnet, bruk egne testnet-nøkler:
# BINANCE_API_KEY=ftr7QbDsCXBPEyBGF1jxEwalRO4J7DAF7KRZCClD2GQn5IGKbJBHUPoWlWyubJTQ
# BINANCE_API_SECRET=XDQqqxprJTK9KJCu0Mpp9R5yYDDZV03VD6Ldxu71VQOVREmj6mz2paSjv7TJkBaR
# For Binance mainnet, bruk live-nøkler (ikke anbefalt for test/demo):
# BINANCE_API_KEY=din_mainnet_api_nokkel
# BINANCE_API_SECRET=din_mainnet_api_secret
BINANCE_API_KEY=
BINANCE_API_SECRET=

# === Firi API Keys (Nordic Exchange) ===
# Firi is a regulated Norwegian/Danish crypto exchange
# Get credentials from https://firi.com
FIRI_API_KEY=
FIRI_CLIENT_ID=
FIRI_SECRET_KEY=

# === Risk Management Defaults ===
DEFAULT_BALANCE=10000
DEFAULT_RISK_PERCENT=1.0

# === Exit Brain V3 Configuration ===
# EXIT_MODE: Controls exit system ownership
#   LEGACY: Traditional position_monitor behavior
#   EXIT_BRAIN_V3: Exit Brain v3 orchestrator owns exits
EXIT_MODE=EXIT_BRAIN_V3

# EXIT_EXECUTOR_MODE: Exit Brain execution mode (only relevant if EXIT_MODE=EXIT_BRAIN_V3)
#   SHADOW: Log only, no real orders
#   LIVE: Place real exit orders
EXIT_EXECUTOR_MODE=LIVE

# EXIT_BRAIN_V3_LIVE_ROLLOUT: Safety killswitch for LIVE mode
#   ENABLED: Allow LIVE orders if EXIT_EXECUTOR_MODE=LIVE
#   DISABLED: Force SHADOW mode even if EXIT_EXECUTOR_MODE=LIVE
EXIT_BRAIN_V3_LIVE_ROLLOUT=ENABLED

# EXIT_BRAIN_PROFILE: Risk management profile (only relevant if EXIT_MODE=EXIT_BRAIN_V3)
#   DEFAULT: Standard Exit Brain v3 behavior
#   CHALLENGE_100: $100 Challenge rules (1.5% risk per trade, TP1@1R, etc.)
EXIT_BRAIN_PROFILE=DEFAULT

# $100 Challenge Profile Config (only used if EXIT_BRAIN_PROFILE=CHALLENGE_100)
CHALLENGE_RISK_PCT_PER_TRADE=0.015  # 1.5% of equity per trade = 1R
CHALLENGE_MAX_RISK_R=1.5            # Max 1.5R loss per position
CHALLENGE_TP1_R=1.0                 # TP1 at +1R profit
CHALLENGE_TP1_QTY_PCT=0.30          # Take 30% at TP1
CHALLENGE_TRAIL_ATR_MULT=2.0        # Trailing distance = 2*ATR
CHALLENGE_TIME_STOP_SEC=7200        # 2 hours time stop
CHALLENGE_LIQ_BUFFER_PCT=0.01       # 1% buffer before liquidation
CHALLENGE_HARD_SL_ENABLED=true      # Enable hard SL safety net

# === Trading / Liquidity Config ===
# QT_MARKET_TYPE=spot              # spot | usdm_perp | coinm_perp
# QT_MARGIN_MODE=cross             # cross | isolated
# QT_DEFAULT_LEVERAGE=5            # 1-125 (leverage for futures)
# QT_LIQUIDITY_STABLE_QUOTES=USDT,USDC   # stable quote assets (default: USDT,USDC)
# QT_EXECUTION_EXCHANGE=paper       # paper | binance | binance-futures
# STAGING_MODE=true                 # true keeps all futures orders in dry-run
# (Remove STAGING_MODE or set to false to allow live order submission when using binance-futures)

# === GHCR / local publish ===
# Copy these into your environment or a local .env when running scripts/local_ci.ps1
GHCR_NAMESPACE=your-org-or-username
GHCR_USERNAME=your-username
GHCR_PAT=YOUR_PERSONAL_ACCESS_TOKEN_HERE  # pragma: allowlist secret

# === Observability - Distributed Tracing ===
# SERVICE_NAME: Name of the service for tracing and logs
SERVICE_NAME=quantum-backend

# SERVICE_VERSION: Version of the service
SERVICE_VERSION=1.0.0

# ENVIRONMENT: deployment environment (development, staging, production)
ENVIRONMENT=development

# ENABLE_TRACING: Enable/disable OpenTelemetry distributed tracing
ENABLE_TRACING=true

# OTLP_ENDPOINT: OpenTelemetry collector endpoint (e.g., Jaeger)
# For Docker Compose: http://jaeger:4317
# For local development: http://localhost:4317
OTLP_ENDPOINT=http://jaeger:4317

# OTLP_INSECURE: Use insecure gRPC connection (true for local dev)
OTLP_INSECURE=true

# TRACE_SAMPLE_RATE: Sampling rate for traces (0.0 to 1.0)
# 1.0 = trace everything, 0.1 = trace 10% of requests
TRACE_SAMPLE_RATE=1.0

# LOG_LEVEL: Logging level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# LOG_FORMAT: Log format (json or text)
LOG_FORMAT=json
