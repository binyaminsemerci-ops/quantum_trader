# GO-LIVE ENVIRONMENT TEMPLATE
# Copy this to .env and customize for each phase

# =============================================================================
# PHASE A: PREFLIGHT (No Trading)
# =============================================================================
# Keep testnet enabled, verify connectivity only
BINANCE_USE_TESTNET=true
PAPER_TRADING=true
LIVE_TRADING_ENABLED=false

# =============================================================================
# PHASE B: SHADOW MODE (Live Data, Paper Execution)
# =============================================================================
# Uncomment these for Phase B:
# BINANCE_USE_TESTNET=false  # Use MAINNET data
# PAPER_TRADING=true  # But don't submit real orders
# LIVE_TRADING_ENABLED=false
# SHADOW_MODE=true  # Enable "WOULD_SUBMIT" logging

# =============================================================================
# PHASE C: LIVE SMALL (Micro-Notional, Hard Caps)
# =============================================================================
# Uncomment these for Phase C:
# BINANCE_USE_TESTNET=false
# PAPER_TRADING=false  # Real orders!
# LIVE_TRADING_ENABLED=true

# --- HARD CAPS (CRITICAL!) ---
# ALLOWED_SYMBOLS=BTCUSDT,ETHUSDT  # Max 2-3 symbols
# MAX_OPEN_POSITIONS=1
# MAX_LEVERAGE=2
# MAX_NOTIONAL_PER_TRADE=20  # $20 USDT max per trade
# MIN_ENTRY_COOLDOWN=60  # 60 seconds minimum between entries
# MAX_TRADES_PER_HOUR=5

# --- KILL-SWITCH (REQUIRED) ---
# ENABLE_KILL_SWITCH=true
# AUTO_STOP_ON_LOSS_PERCENT=5  # Stop if -5% account loss
# KILL_SWITCH_CHECK_INTERVAL=10  # Check every 10 seconds

# =============================================================================
# PHASE D: GRADUAL SCALE-UP (Adjust one per day)
# =============================================================================
# Day 1 → Day 2:
# ALLOWED_SYMBOLS=BTCUSDT,ETHUSDT,BNBUSDT,ADAUSDT,DOGEUSDT  # 5 symbols
# MAX_OPEN_POSITIONS=2
# MAX_NOTIONAL_PER_TRADE=50

# Day 2 → Day 3:
# ALLOWED_SYMBOLS=BTCUSDT,ETHUSDT,BNBUSDT,ADAUSDT,DOGEUSDT,SOLUSDT,XRPUSDT,DOTUSDT,MATICUSDT,AVAXUSDT  # 10 symbols
# MAX_OPEN_POSITIONS=3
# MAX_NOTIONAL_PER_TRADE=100

# Week 1+:
# MAX_LEVERAGE=5  # Only if proven stable
# ALLOWED_SYMBOLS=UNIVERSE  # Full universe (if risk permits)
# MAX_OPEN_POSITIONS=5
# MAX_NOTIONAL_PER_TRADE=200

# =============================================================================
# BINANCE API (REQUIRED FOR ALL PHASES)
# =============================================================================
# MAINNET KEYS (NEVER commit to git!)
BINANCE_API_KEY=your_mainnet_api_key_here
BINANCE_API_SECRET=your_mainnet_api_secret_here

# TESTNET KEYS (for Phase A)
BINANCE_TESTNET_API_KEY=your_testnet_api_key_here
BINANCE_TESTNET_API_SECRET=your_testnet_api_secret_here

# =============================================================================
# REDIS (Required for all phases)
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0

# =============================================================================
# OBSERVABILITY (Keep enabled for all phases)
# =============================================================================
ENABLE_PROMETHEUS=true
ENABLE_GRAFANA=true
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000

# =============================================================================
# EXECUTION POLICY (ESS - Execution Safety System)
# =============================================================================
ENABLE_ESS=true
ESS_CONFIG_PATH=/config/risk_config.json

# Circuit Breaker
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=300  # 5 minutes

# Rate Limiting
ENABLE_RATE_LIMITING=true
MAX_ORDERS_PER_MINUTE=10
MAX_ORDERS_PER_HOUR=50

# Position Limits (Global - applies to all symbols)
MAX_TOTAL_NOTIONAL=1000  # $1000 max across all positions
MAX_ACCOUNT_LEVERAGE=10  # Global max leverage (across all positions)

# =============================================================================
# RISK MANAGEMENT (Adaptive Leverage System)
# =============================================================================
ENABLE_ADAPTIVE_LEVERAGE=true
MIN_LEVERAGE=1
MAX_LEVERAGE=5  # Start low, increase gradually
DEFAULT_LEVERAGE=2

# Stop-Loss / Take-Profit
DEFAULT_STOP_LOSS_PERCENT=2.0  # 2% stop-loss
DEFAULT_TAKE_PROFIT_PERCENT=4.0  # 4% take-profit
ENABLE_TRAILING_STOP=true

# =============================================================================
# LOGGING (Critical for proof generation)
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
ENABLE_EXECUTION_LOGS=true  # Log every ORDER_SUBMIT, ORDER_RESPONSE
LOG_RETENTION_DAYS=30

# =============================================================================
# ALERTING (Telegram/Slack)
# =============================================================================
ENABLE_TELEGRAM_ALERTS=true
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHAT_ID=your_telegram_chat_id

ENABLE_SLACK_ALERTS=false
SLACK_WEBHOOK_URL=your_slack_webhook_url

# =============================================================================
# DATABASE (PostgreSQL for trade history)
# =============================================================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=quantum_trader
POSTGRES_USER=quantum
POSTGRES_PASSWORD=your_secure_password_here

# =============================================================================
# AI ENGINE
# =============================================================================
AI_ENGINE_PORT=8001
ENABLE_AI_SIGNALS=true
MIN_SIGNAL_CONFIDENCE=0.75  # Only trade signals >75% confidence

# =============================================================================
# EXIT BRAIN (Dynamic TP/SL)
# =============================================================================
ENABLE_DYNAMIC_TP_SL=true
EXIT_BRAIN_PORT=8003
TP_PROFILES=conservative,moderate,aggressive

# =============================================================================
# DEBUGGING (Disable in production)
# =============================================================================
DEBUG_MODE=false
ENABLE_BACKTESTING=false
SIMULATE_ORDERS=false

# =============================================================================
# NOTES FOR OPERATORS
# =============================================================================
# 1. NEVER commit .env with real API keys to git
# 2. Use .env.example for templates only
# 3. Verify mode flags before starting services
# 4. Keep kill-switch enabled at ALL times
# 5. Start with Phase A (preflight), progress gradually
# 6. Document every config change in GO_LIVE_CHANGELOG.md
